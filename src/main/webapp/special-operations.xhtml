<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>Специальные операции</title>
    <h:outputStylesheet library="css" name="styles.css"/>
</h:head>
<h:body>
    <div class="container">
        <h1>Специальные операции</h1>
        
        <!-- Навигационное меню -->
        <div class="menu">
            <h:form>
                <h:commandButton value="Главная" action="index" styleClass="menu-button"/>
                <h:commandButton value="Лабораторные работы" action="labworks" styleClass="menu-button"/>
                <h:commandButton value="Авторы" action="persons" styleClass="menu-button"/>
                <h:commandButton value="Дисциплины" action="disciplines" styleClass="menu-button"/>
                <h:commandButton value="Специальные операции" action="special-operations" styleClass="menu-button"/>
            </h:form>
        </div>
        
        <!-- Сообщения -->
        <h:panelGroup rendered="#{specialOperationsBean.message != null and specialOperationsBean.message != ''}">
            <div class="message message-#{specialOperationsBean.messageType}">
                #{specialOperationsBean.message}
            </div>
        </h:panelGroup>
        
        <div class="special-operations">
            <h2>Операции с лабораторными работами</h2>
            
            <!-- Удаление по минимальным баллам -->
            <div class="operation-group">
                <h3>Удаление лабораторных работ по минимальным баллам</h3>
                <p>Удалить все лабораторные работы с указанным количеством минимальных баллов.</p>
                <h:form>
                    <div class="form-group">
                        <h:outputLabel for="deleteMinimalPoint" value="Минимальные баллы:"/>
                        <h:inputText id="deleteMinimalPoint" value="#{specialOperationsBean.deleteMinimalPoint}" 
                                   required="true" requiredMessage="Введите количество баллов"/>
                        <h:message for="deleteMinimalPoint" styleClass="error-message"/>
                    </div>
                    <h:commandButton value="Удалить" action="#{specialOperationsBean.deleteByMinimalPoint()}" 
                                   styleClass="btn btn-danger" 
                                   onclick="return confirm('Вы уверены, что хотите удалить все лабораторные работы с указанными минимальными баллами?')"/>
                </h:form>
            </div>
            
            <!-- Подсчет по максимальным баллам за личные качества -->
            <div class="operation-group">
                <h3>Подсчет лабораторных работ по максимальным баллам за личные качества</h3>
                <p>Подсчитать количество лабораторных работ с указанным максимальным количеством баллов за личные качества.</p>
                <h:form>
                    <div class="form-group">
                        <h:outputLabel for="countPersonalQualities" value="Максимальные баллы за личные качества:"/>
                        <h:inputText id="countPersonalQualities" value="#{specialOperationsBean.countPersonalQualities}" 
                                   required="true" requiredMessage="Введите количество баллов"/>
                        <h:message for="countPersonalQualities" styleClass="error-message"/>
                    </div>
                    <h:commandButton value="Подсчитать" action="#{specialOperationsBean.countByPersonalQualitiesMaximum()}" 
                                   styleClass="btn btn-primary"/>
                </h:form>
                <h:panelGroup rendered="#{specialOperationsBean.countResult != null}">
                    <div class="message message-info">
                        Результат: #{specialOperationsBean.countResult}
                    </div>
                </h:panelGroup>
            </div>
            
            <!-- Подсчет по автору -->
            <div class="operation-group">
                <h3>Подсчет лабораторных работ по автору</h3>
                <p>Подсчитать количество лабораторных работ с автором, ID которого меньше указанного.</p>
                <h:form>
                    <div class="form-group">
                        <h:outputLabel for="countAuthorId" value="ID автора:"/>
                        <h:inputText id="countAuthorId" value="#{specialOperationsBean.countAuthorId}" 
                                   required="true" requiredMessage="Введите ID автора"/>
                        <h:message for="countAuthorId" styleClass="error-message"/>
                    </div>
                    <h:commandButton value="Подсчитать" action="#{specialOperationsBean.countByAuthorLessThan()}" 
                                   styleClass="btn btn-primary"/>
                </h:form>
                <h:panelGroup rendered="#{specialOperationsBean.countResult != null}">
                    <div class="message message-info">
                        Результат: #{specialOperationsBean.countResult}
                    </div>
                </h:panelGroup>
            </div>
            
            <!-- Изменение сложности -->
            <div class="operation-group">
                <h3>Изменение сложности лабораторной работы</h3>
                <p>Повысить или понизить сложность указанной лабораторной работы на заданное количество шагов.</p>
                <h:form>
                    <div class="form-group">
                        <h:outputLabel for="difficultyLabWorkId" value="ID лабораторной работы:"/>
                        <h:inputText id="difficultyLabWorkId" value="#{specialOperationsBean.difficultyLabWorkId}" 
                                   required="true" requiredMessage="Введите ID лабораторной работы"/>
                        <h:message for="difficultyLabWorkId" styleClass="error-message"/>
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="difficultySteps" value="Количество шагов:"/>
                        <h:inputText id="difficultySteps" value="#{specialOperationsBean.difficultySteps}" 
                                   required="true" requiredMessage="Введите количество шагов"/>
                        <h:message for="difficultySteps" styleClass="error-message"/>
                    </div>
                    <h:commandButton value="Повысить сложность" action="#{specialOperationsBean.increaseDifficulty()}" 
                                   styleClass="btn btn-warning"/>
                    <h:commandButton value="Понизить сложность" action="#{specialOperationsBean.decreaseDifficulty()}" 
                                   styleClass="btn btn-secondary"/>
                </h:form>
            </div>
        </div>
    </div>
</h:body>
</html>
